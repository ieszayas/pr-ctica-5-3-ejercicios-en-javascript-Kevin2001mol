<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FC Barcelona</title>
    <link rel="stylesheet" href="parte1.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-lg sticky-top" style="background-color: #A2214B;" data-bs-theme="dark">
        <div class="container-fluid">
            <!-- Logo e imagen -->
            <div class="d-flex align-items-center">
                <img src="../media/Barcelona-logo-escudo.png" alt="Logo Barcelona" width="30" height="30"
                    class="d-inline-block align-text-top me-2">
                <span class="navbar-brand mb-0 h1">FC Barcelona</span>
            </div>

            <!-- Botón para colapsar el menú -->
            <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Menú desplegable -->
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ms-3"> <!-- Alineación a la izquierda -->
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="webparte1.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="webparte1.html#tabla-plantilla">Plantilla</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://store.fcbarcelona.com/es/">Tienda Oficial</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Club
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="https://www.fcbarcelonanoticias.com/">Actualidad</a></li>
                            <li><a class="dropdown-item" href="#">Ser Culer</a></li>
                            <li><a class="dropdown-item" href="LaMasia.html">La Masía</a></li>
                        </ul>
                    </li>
                </ul>
                <!-- Elementos alineados a la derecha -->
                <ul class="navbar-nav ms-auto">
                    <!-- Barra de búsqueda -->
                    <li class="nav-item">
                        <form class="d-flex">
                            <input class="form-control me-2" type="search" placeholder="Buscar" aria-label="Buscar">
                            <button class="btn btn-outline-light" type="submit">Buscar</button>
                        </form>
                    </li>
                    <!-- Enlace "Mi cuenta" -->
                    <li class="nav-item">
                        <a class="icon-link" href="#">
                            <i class="bi bi-person"></i>

                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <h1 class="firma">Hazte Culer</h1>
    <div class="login">
        <img src="../media/SerCuler.webp" class="img-thumbnail"
            alt="Raphina, Lewandowsky y Lamine con la Supercopa de España">
    </div>
    <!-- FORMULARIO -->
    <div class="container d-flex justify-content-center mt-5">
        <form id="formulario" class="needs-validation" style="width: 60%;" novalidate>
            <!-- Email -->
            <div class="mb-3">
                <label for="email" class="form-label">Correo Electrónico</label>
                <input type="email" class="form-control" id="email" placeholder="nombre@ejemplo.com" required>
                <div class="invalid-feedback">
                    Por favor, introduce un correo electrónico válido.
                </div>
                <div class="valid-feedback">
                    ¡Correo válido!
                </div>
            </div>
            <!-- Nombre -->
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input id="nombre" class="form-control" required>
                <div class="invalid-feedback" id="error-nombre"></div>
                <div class="valid-feedback" id="valido-nombre"></div>
            </div>

            <!-- Contraseña -->
            <div class="mb-3">
                <label for="password" class="form-label">Contraseña</label>
                <input type="password" class="form-control" id="password"
                    placeholder="Letras, números, longitud de 8 caracteres y uno especial" required>
                <div class="invalid-feedback" id="error-password"></div>
                <div class="valid-feedback" id="valido-password"></div>
            </div>
            <!-- Fecha de Nacimiento -->
            <div class="mb-3">
                <label for="birthdate" class="form-label">Fecha de Nacimiento</label>
                <input type="date" class="form-control" id="birthdate" max="2007-01-14" required>
                <div class="invalid-feedback">
                    Por favor, selecciona una fecha válida.
                </div>
                <div class="valid-feedback">
                    ¡Fecha válida!
                </div>
            </div>
            <!-- Soy socio -->
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="socio">
                <label class="form-check-label" for="socio">Soy socio</label>
            </div>
            <!-- Aceptar términos y condiciones -->
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="terms" required>
                <label class="form-check-label" for="terms">Acepto los <a href="#">términos y condiciones</a></label>
                <div class="invalid-feedback">
                    Debes aceptar los términos y condiciones para continuar.
                </div>
            </div>
            <!-- Botones -->
            <button class="btn btn-primary" type="submit" id="btnEnviar">Enviar</button>
            <button class="btn btn-secondary" type="button" id="btnLimpiar">Limpiar datos</button>
        </form>
    </div>



    <!-- Toast para notificaciones -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <!-- Toast de limpiar -->
        <div id="toastLimpiar" class="toast align-items-center text-bg-success border-0" role="alert"
            aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    Los campos del formulario han sido limpiados.
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                    aria-label="Close"></button>
            </div>
        </div>
        <!-- Toast de envío -->
        <div id="toastEnviar" class="toast align-items-center text-bg-info border-0" role="alert" aria-live="assertive"
            aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    El formulario se ha enviado correctamente.
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                    aria-label="Close"></button>
            </div>
        </div>
    </div>
    <!-- Modal - Ventana emergente -->
    <div id="modal">
        <div class="modal-content">
            <div class="modal-body">
                <p>Apoyarás al FC Barcelona en todas las circunstancias, siguiendo la filosofía del "tiki-taka" y el ADN
                    Barça.
                    Respetarás la historia del club, incluyendo su legado con jugadores como Messi.
                    Aceptarás la rivalidad con el Real Madrid y celebrarás cada título con pasión.
                    Nunca dejarás de animar al Barça, sin importar el marcador.
                    Defenderás el orgullo blaugrana, llevando la camiseta con honor y gritando "Força Barça".</p>
            </div>
            <div class="modal-footer">
                <a href="#" class="close-btn">Cerrar</a>
            </div>
        </div>
    </div>

    <br><br><br>

    <script>
        // Obtener elementos del DOM
        const formulario = document.getElementById('formulario');
        const btnLimpiar = document.getElementById('btnLimpiar');
        const nombre = document.getElementById('nombre');
        const password = document.getElementById('password');
        const email = document.getElementById('email');
        const birthdate = document.getElementById('birthdate');
        const terms = document.getElementById('terms');

        // Validación de los campos
        // Validación del Nombre
        function validarNombre() {
            const valor = nombre.value.trim();
            nombre.classList.remove('is-valid', 'is-invalid');

            // Validar si el campo está vacío
            if (valor === '') {
                nombre.nextElementSibling.textContent = 'El campo Nombre no puede estar vacío.';
                nombre.classList.add('is-invalid');
                return false;
            }
            // Validar si el nombre contiene solo letras
            else if (!/^[a-zA-Z]+$/.test(valor)) {
                nombre.nextElementSibling.textContent = 'El Nombre solo puede contener letras (a-z, A-Z).';
                nombre.classList.add('is-invalid');
                return false;
            } else {
                nombre.nextElementSibling.textContent = '¡Nombre válido!';
                nombre.classList.add('is-valid');
                return true;
            }
        }


        // Validación de la Contraseña
        function validarPassword() {
            const valor = password.value.trim();
            password.classList.remove('is-valid', 'is-invalid');

            // Validar si el campo está vacío
            if (valor === '') {
                password.nextElementSibling.textContent = 'El campo Contraseña no puede estar vacío.';
                password.classList.add('is-invalid');
                return false;
            }
            // Validar si la contraseña tiene al menos 8 caracteres, un número y un carácter especial
            else if (!/(?=.*\d)(?=.*[!@#$%^&*(),.?":{}|<>])(?=.{8,})/.test(valor)) {
                password.nextElementSibling.textContent = 'La contraseña debe tener al menos 8 caracteres, un número y un carácter especial.';
                password.classList.add('is-invalid');
                return false;
            } else {
                password.nextElementSibling.textContent = '¡Contraseña válida!';
                password.classList.add('is-valid');
                return true;
            }
        }


        function validarEmail() {
            const valor = email.value.trim();
            email.classList.remove('is-valid', 'is-invalid');
            const regexEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (valor === '') {
                email.nextElementSibling.textContent = 'El campo Email no puede estar vacío.';
                email.classList.add('is-invalid');
                return false;
            } else if (!regexEmail.test(valor)) {
                email.nextElementSibling.textContent = 'Por favor, introduce un correo electrónico válido.';
                email.classList.add('is-invalid');
                return false;
            } else {
                email.nextElementSibling.textContent = '¡Correo válido!';
                email.classList.add('is-valid');
                return true;
            }
        }

        function validarFechaNacimiento() {
            const valor = birthdate.value.trim();
            birthdate.classList.remove('is-valid', 'is-invalid');
            if (valor === '') {
                birthdate.nextElementSibling.textContent = 'El campo Fecha de Nacimiento no puede estar vacío.';
                birthdate.classList.add('is-invalid');
                return false;
            } else {
                birthdate.nextElementSibling.textContent = '¡Fecha válida!';
                birthdate.classList.add('is-valid');
                return true;
            }
        }

        // Evento para limpiar los datos del formulario
        btnLimpiar.addEventListener('click', () => {
            formulario.reset();
            const campos = [nombre, password, email, birthdate];
            campos.forEach(campo => {
                campo.classList.remove('is-valid', 'is-invalid');
                campo.nextElementSibling.textContent = '';
            });
        });

        // Evento para enviar el formulario
        formulario.addEventListener('submit', (event) => {
            event.preventDefault();

            const esNombreValido = validarNombre();
            const esPasswordValido = validarPassword();
            const esEmailValido = validarEmail();
            const esFechaValida = validarFechaNacimiento();

            // Verificar si el checkbox de términos está marcado
            if (!terms.checked) {
                terms.classList.add('is-invalid');
                return;
            } else {
                terms.classList.remove('is-invalid');
            }

            if (esNombreValido && esPasswordValido && esEmailValido && esFechaValida && terms.checked) {
                const toastEnviar = new bootstrap.Toast(document.getElementById('toastEnviar'));
                toastEnviar.show();
                formulario.reset(); // Limpia el formulario

                // Eliminar clases y mensajes de validación
                const campos = [nombre, password, email, birthdate];
                campos.forEach(campo => {
                    campo.classList.remove('is-valid', 'is-invalid');
                    campo.nextElementSibling.textContent = '';
                });
            }
        });

        // Validación en tiempo real
        nombre.addEventListener('input', validarNombre);
        password.addEventListener('input', validarPassword);
        email.addEventListener('input', validarEmail);
        birthdate.addEventListener('input', validarFechaNacimiento);
    </script>

</body>